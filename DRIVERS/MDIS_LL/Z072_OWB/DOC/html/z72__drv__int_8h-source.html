<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - Z72 MDIS Driver - z72_drv_int.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">Z72 MDIS Driver &nbsp; </h1>
	<h3>z72_drv_int.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>z72_drv_int.h</h1><a href="z72__drv__int_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ***********************/</span>
00017  <span class="comment">/*</span>
00018 <span class="comment"> * This program is free software: you can redistribute it and/or modify</span>
00019 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
00020 <span class="comment"> * the Free Software Foundation, either version 2 of the License, or</span>
00021 <span class="comment"> * (at your option) any later version.</span>
00022 <span class="comment"> *</span>
00023 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
00024 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00025 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00026 <span class="comment"> * GNU General Public License for more details.</span>
00027 <span class="comment"> *</span>
00028 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
00029 <span class="comment"> * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
00030 <span class="comment"> */</span>
00031 
00032 <span class="preprocessor">#ifndef _Z72_OWB_DRV_INT_H</span>
00033 <span class="preprocessor"></span><span class="preprocessor">#define _Z72_OWB_DRV_INT_H</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#ifdef __cplusplus</span>
00036 <span class="preprocessor"></span>      <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00037 <span class="preprocessor">#endif</span>
00038 <span class="preprocessor"></span>
<a name="l00039"></a><a class="code" href="z72__drv__int_8h.html#a0">00039</a> <span class="preprocessor">#define _NO_LL_HANDLE       </span><span class="comment">/* ll_defs.h: don't define LL_HANDLE struct */</span>
00040 
00041 <span class="preprocessor">#include &lt;MEN/men_typs.h&gt;</span>   <span class="comment">/* system dependent definitions   */</span>
00042 <span class="preprocessor">#include &lt;MEN/maccess.h&gt;</span>    <span class="comment">/* hw access macros and types     */</span>
00043 <span class="preprocessor">#include &lt;MEN/dbg.h&gt;</span>        <span class="comment">/* debug functions                */</span>
00044 <span class="preprocessor">#include &lt;MEN/oss.h&gt;</span>        <span class="comment">/* oss functions                  */</span>
00045 <span class="preprocessor">#include &lt;MEN/desc.h&gt;</span>       <span class="comment">/* descriptor functions           */</span>
00046 <span class="preprocessor">#include &lt;MEN/mdis_api.h&gt;</span>   <span class="comment">/* MDIS global defs               */</span>
00047 <span class="preprocessor">#include &lt;MEN/mdis_com.h&gt;</span>   <span class="comment">/* MDIS common defs               */</span>
00048 <span class="preprocessor">#include &lt;MEN/mdis_err.h&gt;</span>   <span class="comment">/* MDIS error codes               */</span>
00049 <span class="preprocessor">#include &lt;MEN/ll_defs.h&gt;</span>    <span class="comment">/* low-level driver definitions   */</span>
00050 
00051 
00052 <span class="comment">/*-----------------------------------------+</span>
00053 <span class="comment">|  TYPEDEFS                                |</span>
00054 <span class="comment">+-----------------------------------------*/</span>
<a name="l00056"></a><a class="code" href="structLL__HANDLE.html">00056</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00057     <span class="comment">/* general */</span>
<a name="l00058"></a><a class="code" href="structLL__HANDLE.html#o0">00058</a>     int32           memAlloc;       
<a name="l00059"></a><a class="code" href="structLL__HANDLE.html#o1">00059</a>     OSS_HANDLE      *osHdl;         
<a name="l00060"></a><a class="code" href="structLL__HANDLE.html#o2">00060</a>     OSS_IRQ_HANDLE  *irqHdl;        
<a name="l00061"></a><a class="code" href="structLL__HANDLE.html#o3">00061</a>     DESC_HANDLE     *descHdl;       
<a name="l00062"></a><a class="code" href="structLL__HANDLE.html#o4">00062</a>     MACCESS         ma;             
<a name="l00063"></a><a class="code" href="structLL__HANDLE.html#o5">00063</a>     MDIS_IDENT_FUNCT_TBL idFuncTbl; 
00064     <span class="comment">/* debug */</span>
<a name="l00065"></a><a class="code" href="structLL__HANDLE.html#o6">00065</a>     u_int32         dbgLevel;       
<a name="l00066"></a><a class="code" href="structLL__HANDLE.html#o7">00066</a>     DBG_HANDLE      *dbgHdl;        
00067     <span class="comment">/* misc */</span>
<a name="l00068"></a><a class="code" href="structLL__HANDLE.html#o8">00068</a>     u_int32         mode;           
<a name="l00069"></a><a class="code" href="structLL__HANDLE.html#o9">00069</a>     u_int32         irqCount;       
<a name="l00070"></a><a class="code" href="structLL__HANDLE.html#o10">00070</a>     u_int32         exeStatus;      
<a name="l00071"></a><a class="code" href="structLL__HANDLE.html#o11">00071</a>     OSS_SEM_HANDLE  *exeSem;        
<a name="l00072"></a><a class="code" href="structLL__HANDLE.html#o12">00072</a>     OSS_SEM_HANDLE  *devSemHdl;     
<a name="l00073"></a><a class="code" href="structLL__HANDLE.html#o13">00073</a>     u_int8          *dataP;         
00075     <span class="comment">/* state machines */</span>
<a name="l00076"></a><a class="code" href="structLL__HANDLE.html#o14">00076</a>     u_int32         majState;       
<a name="l00077"></a><a class="code" href="structLL__HANDLE.html#o15">00077</a>     u_int32         fncState;       
00078 } <a class="code" href="structLL__HANDLE.html">LL_HANDLE</a>;
00079 
00080 
00081 <span class="comment">/*-----------------------------------------+</span>
00082 <span class="comment">|  DEFINES                                 |</span>
00083 <span class="comment">+-----------------------------------------*/</span>
00084 <span class="comment">/* general defines */</span>
<a name="l00085"></a><a class="code" href="z72__drv__int_8h.html#a1">00085</a> <span class="preprocessor">#define CH_NUMBER           1       </span>
<a name="l00086"></a><a class="code" href="z72__drv__int_8h.html#a2">00086</a> <span class="preprocessor">#define USE_IRQ             TRUE    </span>
<a name="l00087"></a><a class="code" href="z72__drv__int_8h.html#a3">00087</a> <span class="preprocessor">#define ADDRSPACE_COUNT     1       </span>
<a name="l00088"></a><a class="code" href="z72__drv__int_8h.html#a4">00088</a> <span class="preprocessor">#define ADDRSPACE_SIZE      0x10    </span>
<a name="l00090"></a><a class="code" href="z72__drv__int_8h.html#a5">00090</a> <span class="preprocessor">#define Z72_POLL_TOUT       1       </span>
<a name="l00091"></a><a class="code" href="z72__drv__int_8h.html#a6">00091</a> <span class="preprocessor">#define Z72_POLL_RETRY_MAX  3       </span>
<a name="l00092"></a><a class="code" href="z72__drv__int_8h.html#a7">00092</a> <span class="preprocessor">#define Z72_SEM_TOUT        2       </span>
<a name="l00094"></a><a class="code" href="z72__drv__int_8h.html#a8">00094</a> <span class="preprocessor">#define Z72_RETRY_MAX       5       </span>
<a name="l00096"></a><a class="code" href="z72__drv__int_8h.html#a9">00096</a> <span class="preprocessor">#define Z72_EXTRADBG</span>
00097 <span class="preprocessor"></span>
00098 <span class="comment">/* debug defines */</span>
00099 <span class="preprocessor">#ifndef Z72_EXTRADBG</span>
00100 <span class="preprocessor"></span><span class="preprocessor">#   define DBG_MYLEVEL      llHdl-&gt;dbgLevel     </span>
00101 <span class="preprocessor">#else</span>
<a name="l00102"></a><a class="code" href="z72__drv__int_8h.html#a10">00102</a> <span class="preprocessor"></span><span class="preprocessor">#   define DBG_MYLEVEL      DBG_ALL             </span>
00103 <span class="preprocessor">#endif </span><span class="comment">/* Z72_EXTRADBG */</span>
<a name="l00104"></a><a class="code" href="z72__drv__int_8h.html#a11">00104</a> <span class="preprocessor">#define DBH                 llHdl-&gt;dbgHdl       </span>
<a name="l00106"></a><a class="code" href="z72__drv__int_8h.html#a12">00106</a> <span class="preprocessor">#define OSH                 llHdl-&gt;osHdl        </span>
<a name="l00112"></a><a class="code" href="z72__drv__int_8h.html#a13">00112</a> <span class="preprocessor">#define Z72_REG_WRT     0x00    </span>
<a name="l00113"></a><a class="code" href="z72__drv__int_8h.html#a14">00113</a> <span class="preprocessor">#define Z72_REG_RD      0x04    </span>
<a name="l00114"></a><a class="code" href="z72__drv__int_8h.html#a15">00114</a> <span class="preprocessor">#define Z72_REG_CTL     0x08    </span>
<a name="l00115"></a><a class="code" href="z72__drv__int_8h.html#a16">00115</a> <span class="preprocessor">#define Z72_REG_STS     0x0C    </span>
<a name="l00117"></a><a class="code" href="z72__drv__int_8h.html#a17">00117</a> <span class="preprocessor">#define Z72_CTL_CMD_MASK 0x07   </span>
<a name="l00118"></a><a class="code" href="z72__drv__int_8h.html#a18">00118</a> <span class="preprocessor">#define Z72_CTL_CMD_WBIT 0x00   </span>
<a name="l00119"></a><a class="code" href="z72__drv__int_8h.html#a19">00119</a> <span class="preprocessor">#define Z72_CTL_CMD_RBIT 0x01   </span>
<a name="l00120"></a><a class="code" href="z72__drv__int_8h.html#a20">00120</a> <span class="preprocessor">#define Z72_CTL_CMD_RPP  0x02   </span>
<a name="l00121"></a><a class="code" href="z72__drv__int_8h.html#a21">00121</a> <span class="preprocessor">#define Z72_CTL_CMD_PRGP 0x03   </span>
<a name="l00122"></a><a class="code" href="z72__drv__int_8h.html#a22">00122</a> <span class="preprocessor">#define Z72_CTL_CMD_WBYT 0x04   </span>
<a name="l00123"></a><a class="code" href="z72__drv__int_8h.html#a23">00123</a> <span class="preprocessor">#define Z72_CTL_CMD_RBYT 0x05   </span>
<a name="l00125"></a><a class="code" href="z72__drv__int_8h.html#a24">00125</a> <span class="preprocessor">#define Z72_CTL_EXEC    0x08    </span>
<a name="l00126"></a><a class="code" href="z72__drv__int_8h.html#a25">00126</a> <span class="preprocessor">#define Z72_CTL_MIRQ    0x10    </span>
<a name="l00127"></a><a class="code" href="z72__drv__int_8h.html#a26">00127</a> <span class="preprocessor">#define Z72_CTL_EIRQ    0x20    </span>
<a name="l00129"></a><a class="code" href="z72__drv__int_8h.html#a27">00129</a> <span class="preprocessor">#define Z72_STS_EEXE    0x01    </span>
<a name="l00130"></a><a class="code" href="z72__drv__int_8h.html#a28">00130</a> <span class="preprocessor">#define Z72_STS_ERPP    0x02    </span>
<a name="l00131"></a><a class="code" href="z72__drv__int_8h.html#a29">00131</a> <span class="preprocessor">#define Z72_STS_EPP1    0x04    </span>
<a name="l00132"></a><a class="code" href="z72__drv__int_8h.html#a30">00132</a> <span class="preprocessor">#define Z72_STS_EPP2    0x08    </span>
<a name="l00133"></a><a class="code" href="z72__drv__int_8h.html#a31">00133</a> <span class="preprocessor">#define Z72_STS_MIRQ    0x10    </span>
<a name="l00134"></a><a class="code" href="z72__drv__int_8h.html#a32">00134</a> <span class="preprocessor">#define Z72_STS_EIRQ    0x20    </span>
<a name="l00135"></a><a class="code" href="z72__drv__int_8h.html#a33">00135</a> <span class="preprocessor">#define Z72_STS_BUSY    0x40    </span>
<a name="l00136"></a><a class="code" href="z72__drv__int_8h.html#a34">00136</a> <span class="preprocessor">#define Z72_STS_PRES    0x80    </span>
<a name="l00144"></a><a class="code" href="z72__drv__int_8h.html#a76">00144</a> <span class="preprocessor">typedef enum {</span>
00145 <span class="preprocessor"></span>    <a class="code" href="z72__drv__int_8h.html#a76a50">Z72_ST_MAJ_IDLE</a> = 0,            
00146     <a class="code" href="z72__drv__int_8h.html#a76a51">Z72_ST_MAJ_RP_PP</a>,               
00147     <a class="code" href="z72__drv__int_8h.html#a76a52">Z72_ST_MAJ_ROM_SKIP</a>,            
00148     <a class="code" href="z72__drv__int_8h.html#a76a53">Z72_ST_MAJ_ROM_READ</a>,            
00149     <a class="code" href="z72__drv__int_8h.html#a76a54">Z72_ST_MAJ_ROM_MATCH</a>,           
00150     <a class="code" href="z72__drv__int_8h.html#a76a55">Z72_ST_MAJ_ROM_SEARCH</a>,          
00151     <a class="code" href="z72__drv__int_8h.html#a76a56">Z72_ST_MAJ_IDLE_MEM</a>,            
00152     <a class="code" href="z72__drv__int_8h.html#a76a57">Z72_ST_MAJ_MEM_READ</a>,            
00153     <a class="code" href="z72__drv__int_8h.html#a76a58">Z72_ST_MAJ_MEM_READ_CRC</a>,        
00154     <a class="code" href="z72__drv__int_8h.html#a76a59">Z72_ST_MAJ_MEM_WRITE</a>,           
00155     <a class="code" href="z72__drv__int_8h.html#a76a60">Z72_ST_MAJ_STATUS_READ</a>,         
00156     <a class="code" href="z72__drv__int_8h.html#a76a61">Z72_ST_MAJ_STATUS_WRITE</a>,        
00157     <a class="code" href="z72__drv__int_8h.html#a76a62">Z72_ST_MAJ_END</a>                  
00158 } <a class="code" href="z72__drv__int_8h.html#a76">Z72_STATE_MAJOR</a>;
00159 
00160 
<a name="l00162"></a><a class="code" href="z72__drv__int_8h.html#a77">00162</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00163     <a class="code" href="z72__drv__int_8h.html#a77a63">Z72_ST_RX_CMD</a> = 0,              
00164     <a class="code" href="z72__drv__int_8h.html#a77a64">Z72_ST_RX_TA</a>,                   
00165     <a class="code" href="z72__drv__int_8h.html#a77a65">Z72_ST_RX_CRC1</a>,                 
00166     <a class="code" href="z72__drv__int_8h.html#a77a66">Z72_ST_RX_DATA</a>,                 
00167     <a class="code" href="z72__drv__int_8h.html#a77a67">Z72_ST_RX_CRC2</a>,                 
00170     <a class="code" href="z72__drv__int_8h.html#a77a68">Z72_ST_RX_END</a>                   
00171 } <a class="code" href="z72__drv__int_8h.html#a77">Z72_STATE_READ</a>;
00172 
<a name="l00174"></a><a class="code" href="z72__drv__int_8h.html#a78">00174</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00175     <a class="code" href="z72__drv__int_8h.html#a78a69">Z72_ST_TX_CMD</a> = 0,              
00176     <a class="code" href="z72__drv__int_8h.html#a78a70">Z72_ST_TX_TA</a>,                   
00177     <a class="code" href="z72__drv__int_8h.html#a78a71">Z72_ST_TX_DATA</a>,                 
00178     <a class="code" href="z72__drv__int_8h.html#a78a72">Z72_ST_TX_CRC</a>,                  
00179     <a class="code" href="z72__drv__int_8h.html#a78a73">Z72_ST_TX_PGMP</a>,                 
00180     <a class="code" href="z72__drv__int_8h.html#a78a74">Z72_ST_TX_DATA_VER</a>,             
00181     <a class="code" href="z72__drv__int_8h.html#a78a75">Z72_ST_TX_END</a>                   
00182 } <a class="code" href="z72__drv__int_8h.html#a78">Z72_STATE_WRITE</a>;
<a name="l00187"></a><a class="code" href="z72__drv__int_8h.html#a35">00187</a> <span class="preprocessor">#define Z72_MODE_POLL          0x00000001</span>
<a name="l00188"></a><a class="code" href="z72__drv__int_8h.html#a36">00188</a> <span class="preprocessor"></span><span class="preprocessor">#define Z72_MODE_AUTO_SKIPROM  0x00000002</span>
00189 <span class="preprocessor"></span>
00190 
<a name="l00194"></a><a class="code" href="group____Z72__DS2502.html#a0">00194</a> <span class="preprocessor">#define Z72_OWB_ROMCRC_ORDER    0x08    </span>
<a name="l00195"></a><a class="code" href="group____Z72__DS2502.html#a1">00195</a> <span class="preprocessor">#define Z72_OWB_ROMCRC_HIGHBIT  0x80    </span>
<a name="l00196"></a><a class="code" href="group____Z72__DS2502.html#a2">00196</a> <span class="preprocessor">#define Z72_OWB_ROMCRC_POLY     0x31    </span>
<a name="l00197"></a><a class="code" href="group____Z72__DS2502.html#a3">00197</a> <span class="preprocessor">#define Z72_OWB_ROMCRC_INIT     0x00    </span>
<a name="l00200"></a><a class="code" href="group____Z72__DS2502.html#a4">00200</a> <span class="preprocessor">#define Z72_OWB_ROM_READ    0x33    </span>
<a name="l00201"></a><a class="code" href="group____Z72__DS2502.html#a5">00201</a> <span class="preprocessor">#define Z72_OWB_ROM_MATCH   0x55    </span>
<a name="l00202"></a><a class="code" href="group____Z72__DS2502.html#a6">00202</a> <span class="preprocessor">#define Z72_OWB_ROM_SEARCH  0xF0    </span>
<a name="l00203"></a><a class="code" href="group____Z72__DS2502.html#a7">00203</a> <span class="preprocessor">#define Z72_OWB_ROM_SKIP    0xCC    </span>
<a name="l00206"></a><a class="code" href="group____Z72__DS2502.html#a8">00206</a> <span class="preprocessor">#define Z72_OWB_DS2502_MEM_READ     0xF0 </span>
<a name="l00207"></a><a class="code" href="group____Z72__DS2502.html#a9">00207</a> <span class="preprocessor">#define Z72_OWB_DS2502_MEM_READ_CRC 0xC3 </span>
<a name="l00208"></a><a class="code" href="group____Z72__DS2502.html#a10">00208</a> <span class="preprocessor">#define Z72_OWB_DS2502_MEM_WRITE    0x0F </span>
<a name="l00209"></a><a class="code" href="group____Z72__DS2502.html#a11">00209</a> <span class="preprocessor">#define Z72_OWB_DS2502_STATUS_READ  0xAA </span>
<a name="l00210"></a><a class="code" href="group____Z72__DS2502.html#a12">00210</a> <span class="preprocessor">#define Z72_OWB_DS2502_STATUS_WRITE 0x55 </span>
00213 <span class="preprocessor">#ifdef __cplusplus</span>
00214 <span class="preprocessor"></span>      }
00215 <span class="preprocessor">#endif</span>
00216 <span class="preprocessor"></span>
00217 <span class="preprocessor">#endif </span><span class="comment">/* _Z72_OWB_DRV_INT_H */</span>
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for Z72 MDIS Driver using <a href="http://www.doxygen.org">doxygen</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

